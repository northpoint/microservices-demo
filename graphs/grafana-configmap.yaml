apiVersion: v1
data:
  prometheus-stats-dashboard.json: |
    {"__inputs":[],"annotations":{"list":[]},"description":"","editable":true,"gnetId":null,"hideControls":false,"id":null,"links":[],"refresh":"10s","rows":[{"collapse":false,"editable":true,"height":"250px","panels":[{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["rgba(50, 172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"datasource":"Prometheus","decimals":1,"description":null,"editable":true,"format":"s","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"height":null,"hideTimeOverride":false,"id":1,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"minSpan":null,"nullPointMode":"connected","nullText":null,"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[],"repeat":null,"span":4,"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"targets":[{"datasource":"","expr":"(time() - process_start_time_seconds{job=\"monitoring/prometheus\"})","format":"time_series","instant":false,"interval":"","intervalFactor":2,"legendFormat":"","metric":"","refId":"A","step":10,"target":""}],"thresholds":"","timeFrom":null,"title":"Uptime","transparent":false,"type":"singlestat","valueFontSize":"80%","valueMaps":[],"valueName":"current"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["rgba(50, 172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"datasource":"Prometheus","decimals":null,"description":null,"editable":true,"format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"height":null,"hideTimeOverride":false,"id":2,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"minSpan":null,"nullPointMode":"connected","nullText":null,"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[],"repeat":null,"span":4,"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":true},"targets":[{"datasource":"","expr":"prometheus_local_storage_memory_series","format":"time_series","instant":false,"interval":"","intervalFactor":2,"legendFormat":"","metric":"","refId":"A","step":10,"target":""}],"thresholds":"","timeFrom":null,"title":"Local Storage Memory Series","transparent":false,"type":"singlestat","valueFontSize":"80%","valueMaps":[],"valueName":"current"},{"cacheTimeout":null,"colorBackground":false,"colorValue":true,"colors":["rgba(50, 172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"datasource":"Prometheus","decimals":null,"description":null,"editable":true,"format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"height":null,"hideTimeOverride":false,"id":3,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"minSpan":null,"nullPointMode":"connected","nullText":null,"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[],"repeat":null,"span":4,"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":true},"targets":[{"datasource":"","expr":"prometheus_local_storage_indexing_queue_length","format":"time_series","instant":false,"interval":"","intervalFactor":2,"legendFormat":"","metric":"","refId":"A","step":10,"target":""}],"thresholds":"500,4000","timeFrom":null,"title":"Internal Storage Queue Length","transparent":false,"type":"singlestat","valueFontSize":"80%","valueMaps":[{"op":"=","text":"Empty","value":"0"}],"valueName":"current"}],"repeat":null,"showTitle":false,"title":"New row"},{"collapse":false,"editable":true,"height":"250px","panels":[{"aliasColors":{},"bars":false,"datasource":"Prometheus","description":null,"editable":true,"error":false,"fill":1,"grid":{"threshold1":null,"threshold1Color":"rgba(216, 200, 27, 0.27)","threshold2":null,"threshold2Color":"rgba(234, 112, 112, 0.22)"},"id":4,"isNew":true,"legend":{"alignAsTable":false,"avg":false,"current":false,"hideEmpty":false,"hideZero":false,"max":false,"min":false,"rightSide":false,"show":true,"sideWidth":null,"sort":null,"sortDesc":false,"total":false,"values":false},"lines":true,"linewidth":2,"links":[],"minSpan":null,"nullPointMode":"connected","percentage":false,"pointradius":5,"points":false,"renderer":"flot","repeat":null,"seriesOverrides":[],"span":12,"stack":false,"steppedLine":false,"targets":[{"datasource":"","expr":"rate(prometheus_local_storage_ingested_samples_total[5m])","format":"time_series","instant":false,"interval":"","intervalFactor":2,"legendFormat":"{{ job }}","metric":"","refId":"A","step":10,"target":""}],"timeFrom":null,"timeShift":null,"title":"Samples ingested (rate-5m)","tooltip":{"msResolution":true,"shared":true,"sort":0,"value_type":"cumulative"},"transparent":false,"type":"graph","xaxis":{"show":true},"yaxes":[{"decimals":null,"format":"short","label":null,"logBase":1,"max":null,"min":0,"show":true},{"decimals":null,"format":"short","label":null,"logBase":1,"max":null,"min":0,"show":true}]}],"repeat":null,"showTitle":false,"title":"New row"},{"collapse":false,"editable":true,"height":"250px","panels":[{"aliasColors":{},"bars":false,"datasource":"Prometheus","description":null,"editable":true,"error":false,"fill":1,"grid":{"threshold1":null,"threshold1Color":"rgba(216, 200, 27, 0.27)","threshold2":null,"threshold2Color":"rgba(234, 112, 112, 0.22)"},"id":5,"isNew":true,"legend":{"alignAsTable":false,"avg":false,"current":false,"hideEmpty":false,"hideZero":false,"max":false,"min":false,"rightSide":false,"show":true,"sideWidth":null,"sort":null,"sortDesc":false,"total":false,"values":false},"lines":true,"linewidth":2,"links":[],"minSpan":null,"nullPointMode":"connected","percentage":false,"pointradius":5,"points":false,"renderer":"flot","repeat":null,"seriesOverrides":[],"span":6,"stack":false,"steppedLine":false,"targets":[{"datasource":"","expr":"rate(prometheus_target_interval_length_seconds_count[5m])","format":"time_series","instant":false,"interval":"","intervalFactor":2,"legendFormat":"{{ job }}","metric":"","refId":"A","step":10,"target":""}],"timeFrom":null,"timeShift":null,"title":"Target Scrapes (last 5m)","tooltip":{"msResolution":true,"shared":true,"sort":0,"value_type":"cumulative"},"transparent":false,"type":"graph","xaxis":{"show":true},"yaxes":[{"decimals":null,"format":"short","label":null,"logBase":1,"max":null,"min":0,"show":true},{"decimals":null,"format":"short","label":null,"logBase":1,"max":null,"min":0,"show":true}]},{"aliasColors":{},"bars":false,"datasource":"Prometheus","description":null,"editable":true,"error":false,"fill":1,"grid":{"threshold1":null,"threshold1Color":"rgba(216, 200, 27, 0.27)","threshold2":null,"threshold2Color":"rgba(234, 112, 112, 0.22)"},"id":6,"isNew":true,"legend":{"alignAsTable":false,"avg":false,"current":false,"hideEmpty":false,"hideZero":false,"max":false,"min":false,"rightSide":false,"show":true,"sideWidth":null,"sort":null,"sortDesc":false,"total":false,"values":false},"lines":true,"linewidth":2,"links":[],"minSpan":null,"nullPointMode":"connected","percentage":false,"pointradius":5,"points":false,"renderer":"flot","repeat":null,"seriesOverrides":[],"span":6,"stack":false,"steppedLine":false,"targets":[{"datasource":"","expr":"prometheus_target_interval_length_seconds{quantile!=\"0.01\", quantile!=\"0.05\"}","format":"time_series","instant":false,"interval":"","intervalFactor":2,"legendFormat":"{{ quantile }} ({{ interval }})","metric":"","refId":"A","step":10,"target":""}],"timeFrom":null,"timeShift":null,"title":"Scrape Duration","tooltip":{"msResolution":true,"shared":true,"sort":0,"value_type":"cumulative"},"transparent":false,"type":"graph","xaxis":{"show":true},"yaxes":[{"decimals":null,"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true},{"decimals":null,"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}]}],"repeat":null,"showTitle":false,"title":"New row"},{"collapse":false,"editable":true,"height":"250px","panels":[{"aliasColors":{},"bars":false,"datasource":"Prometheus","description":null,"editable":true,"error":false,"fill":1,"grid":{"threshold1":null,"threshold1Color":"rgba(216, 200, 27, 0.27)","threshold2":null,"threshold2Color":"rgba(234, 112, 112, 0.22)"},"id":7,"isNew":true,"legend":{"alignAsTable":false,"avg":false,"current":false,"hideEmpty":false,"hideZero":false,"max":false,"min":false,"rightSide":false,"show":true,"sideWidth":null,"sort":null,"sortDesc":false,"total":false,"values":false},"lines":true,"linewidth":2,"links":[],"minSpan":null,"nullPointMode":"connected","percentage":false,"pointradius":5,"points":false,"renderer":"flot","repeat":null,"seriesOverrides":[],"span":12,"stack":false,"steppedLine":false,"targets":[{"datasource":"","expr":"prometheus_evaluator_duration_milliseconds{quantile!=\"0.01\", quantile!=\"0.05\"}","format":"time_series","instant":false,"interval":"","intervalFactor":2,"legendFormat":"{{ quantile }}","metric":"","refId":"A","step":10,"target":""}],"timeFrom":null,"timeShift":null,"title":"Rule Eval Duration","tooltip":{"msResolution":true,"shared":true,"sort":0,"value_type":"cumulative"},"transparent":false,"type":"graph","xaxis":{"show":true},"yaxes":[{"decimals":null,"format":"percentunit","label":null,"logBase":1,"max":null,"min":null,"show":true},{"decimals":null,"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}]}],"repeat":null,"showTitle":false,"title":"New row"}],"schemaVersion":12,"sharedCrosshair":false,"style":"dark","tags":[],"templating":{"list":[]},"time":{"from":"now-3h","to":"now"},"timepicker":{"refresh_intervals":["5s","10s","30s","1m","5m","15m","30m","1h","2h","1d"],"time_options":["5m","15m","1h","6h","12h","24h","2d","7d","30d"]},"timezone":"browser","title":"Prometheus Stats","uid":null,"version":0}
  k8s-pod-resources-dashboard.json: |
    {"__inputs":[],"annotations":{"list":[]},"description":"","editable":true,"gnetId":null,"hideControls":false,"id":null,"links":[],"refresh":"10s","rows":[{"collapse":false,"editable":true,"height":"180px","panels":[{"cacheTimeout":null,"colorBackground":false,"colorValue":true,"colors":["rgba(50, 172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"datasource":"Prometheus","decimals":null,"description":null,"editable":true,"format":"percent","gauge":{"maxValue":100,"minValue":0,"show":true,"thresholdLabels":false,"thresholdMarkers":true},"height":null,"hideTimeOverride":false,"id":1,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"minSpan":null,"nullPointMode":"connected","nullText":null,"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[],"repeat":null,"span":4,"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"targets":[{"datasource":"","expr":"sum (container_memory_working_set_bytes{id=\"/\"}) / sum (machine_memory_bytes) * 100","format":"time_series","instant":false,"interval":"","intervalFactor":2,"legendFormat":"","metric":"","refId":"A","step":10,"target":""}],"thresholds":"65,90","timeFrom":null,"title":"Memory Working Set","transparent":false,"type":"singlestat","valueFontSize":"80%","valueMaps":[],"valueName":"current"},{"cacheTimeout":null,"colorBackground":false,"colorValue":true,"colors":["rgba(50, 172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"datasource":"Prometheus","decimals":2,"description":null,"editable":true,"format":"percent","gauge":{"maxValue":100,"minValue":0,"show":true,"thresholdLabels":false,"thresholdMarkers":true},"height":null,"hideTimeOverride":false,"id":2,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"minSpan":null,"nullPointMode":"connected","nullText":null,"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[],"repeat":null,"span":4,"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"targets":[{"datasource":"","expr":"sum(rate(container_cpu_usage_seconds_total{id=\"/\",}[1m])) / sum (machine_cpu_cores) * 100","format":"time_series","instant":false,"interval":"","intervalFactor":2,"legendFormat":"","metric":"","refId":"A","step":"10s","target":""}],"thresholds":"65,90","timeFrom":null,"title":"CPU Usage","transparent":false,"type":"singlestat","valueFontSize":"80%","valueMaps":[],"valueName":"current"},{"cacheTimeout":null,"colorBackground":false,"colorValue":true,"colors":["rgba(50, 172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"datasource":"Prometheus","decimals":2,"description":null,"editable":true,"format":"percent","gauge":{"maxValue":100,"minValue":0,"show":true,"thresholdLabels":false,"thresholdMarkers":true},"height":null,"hideTimeOverride":false,"id":3,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"minSpan":null,"nullPointMode":"connected","nullText":null,"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[],"repeat":null,"span":4,"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"targets":[{"datasource":"","expr":"sum(container_fs_usage_bytes{id=\"/\"}) / sum(container_fs_limit_bytes{id=\"/\"}) * 100","format":"time_series","instant":false,"interval":"","intervalFactor":2,"legendFormat":"","metric":"","refId":"A","step":"10s","target":""}],"thresholds":"65,90","timeFrom":null,"title":"Filesystem Usage","transparent":false,"type":"singlestat","valueFontSize":"80%","valueMaps":[],"valueName":"current"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["rgba(50, 172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"datasource":"Prometheus","decimals":2,"description":null,"editable":true,"format":"bytes","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"height":"1px","hideTimeOverride":false,"id":4,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"minSpan":null,"nullPointMode":"connected","nullText":null,"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[],"repeat":null,"span":2,"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"targets":[{"datasource":"","expr":"sum(container_memory_working_set_bytes{id=\"/\"})","format":"time_series","instant":false,"interval":"","intervalFactor":2,"legendFormat":"","metric":"","refId":"A","step":10,"target":""}],"thresholds":"","timeFrom":null,"title":"Used","transparent":false,"type":"singlestat","valueFontSize":"50%","valueMaps":[],"valueName":"current"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["rgba(50, 172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"datasource":"Prometheus","decimals":2,"description":null,"editable":true,"format":"bytes","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"height":"1px","hideTimeOverride":false,"id":5,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"minSpan":null,"nullPointMode":"connected","nullText":null,"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[],"repeat":null,"span":2,"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"targets":[{"datasource":"","expr":"sum(machine_memory_bytes)","format":"time_series","instant":false,"interval":"","intervalFactor":2,"legendFormat":"","metric":"","refId":"A","step":10,"target":""}],"thresholds":"","timeFrom":null,"title":"Total","transparent":false,"type":"singlestat","valueFontSize":"50%","valueMaps":[],"valueName":"current"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["rgba(50, 172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"datasource":"Prometheus","decimals":2,"description":null,"editable":true,"format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"height":"1px","hideTimeOverride":false,"id":6,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"minSpan":null,"nullPointMode":"connected","nullText":null,"postfix":" cores","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[],"repeat":null,"span":2,"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"targets":[{"datasource":"","expr":"sum(rate(container_cpu_usage_seconds_total{id=\"/\"}[1m]))","format":"time_series","instant":false,"interval":"","intervalFactor":2,"legendFormat":"","metric":"","refId":"A","step":10,"target":""}],"thresholds":"","timeFrom":null,"title":"Used","transparent":false,"type":"singlestat","valueFontSize":"50%","valueMaps":[],"valueName":"current"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["rgba(50, 172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"datasource":"Prometheus","decimals":2,"description":null,"editable":true,"format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"height":"1px","hideTimeOverride":false,"id":7,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"minSpan":null,"nullPointMode":"connected","nullText":null,"postfix":" cores","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[],"repeat":null,"span":2,"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"targets":[{"datasource":"","expr":"sum(machine_cpu_cores)","format":"time_series","instant":false,"interval":"","intervalFactor":2,"legendFormat":"","metric":"","refId":"A","step":10,"target":""}],"thresholds":"","timeFrom":null,"title":"Total","transparent":false,"type":"singlestat","valueFontSize":"50%","valueMaps":[],"valueName":"current"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["rgba(50, 172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"datasource":"Prometheus","decimals":2,"description":null,"editable":true,"format":"bytes","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"height":"1px","hideTimeOverride":false,"id":8,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"minSpan":null,"nullPointMode":"connected","nullText":null,"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[],"repeat":null,"span":2,"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"targets":[{"datasource":"","expr":"sum(container_fs_usage_bytes{id=\"/\"})","format":"time_series","instant":false,"interval":"","intervalFactor":2,"legendFormat":"","metric":"","refId":"A","step":10,"target":""}],"thresholds":"","timeFrom":null,"title":"Used","transparent":false,"type":"singlestat","valueFontSize":"50%","valueMaps":[],"valueName":"current"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["rgba(50, 172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"datasource":"Prometheus","decimals":2,"description":null,"editable":true,"format":"bytes","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"height":"1px","hideTimeOverride":false,"id":9,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"minSpan":null,"nullPointMode":"connected","nullText":null,"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[],"repeat":null,"span":2,"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"targets":[{"datasource":"","expr":"sum(container_fs_limit_bytes{id=\"/\"})","format":"time_series","instant":false,"interval":"","intervalFactor":2,"legendFormat":"","metric":"","refId":"A","step":10,"target":""}],"thresholds":"","timeFrom":null,"title":"Total","transparent":false,"type":"singlestat","valueFontSize":"50%","valueMaps":[],"valueName":"current"},{"aliasColors":{},"bars":false,"datasource":"Prometheus","description":null,"editable":true,"error":false,"fill":1,"grid":{"threshold1":null,"threshold1Color":"rgba(216, 200, 27, 0.27)","threshold2":null,"threshold2Color":"rgba(234, 112, 112, 0.22)"},"id":10,"isNew":true,"legend":{"alignAsTable":true,"avg":true,"current":true,"hideEmpty":false,"hideZero":false,"max":false,"min":false,"rightSide":true,"show":true,"sideWidth":"200px","sort":null,"sortDesc":false,"total":false,"values":true},"lines":true,"linewidth":2,"links":[],"minSpan":null,"nullPointMode":"connected","percentage":false,"pointradius":5,"points":false,"renderer":"flot","repeat":null,"seriesOverrides":[],"span":12,"stack":false,"steppedLine":false,"targets":[{"datasource":"","expr":"sum(rate(container_network_receive_bytes_total[1m]))","format":"time_series","instant":false,"interval":"","intervalFactor":2,"legendFormat":"receive","metric":"","refId":"A","step":10,"target":""},{"datasource":"","expr":"- sum(rate(container_network_transmit_bytes_total[1m]))","format":"time_series","instant":false,"interval":"","intervalFactor":2,"legendFormat":"transmit","metric":"","refId":"B","step":10,"target":""}],"timeFrom":null,"timeShift":null,"title":"Network","tooltip":{"msResolution":true,"shared":true,"sort":0,"value_type":"cumulative"},"transparent":false,"type":"graph","xaxis":{"show":true},"yaxes":[{"decimals":null,"format":"Bps","label":"transmit / receive","logBase":1,"max":null,"min":null,"show":true},{"decimals":null,"format":"Bps","label":null,"logBase":1,"max":null,"min":0,"show":false}]}],"repeat":null,"showTitle":true,"title":"all pods"},{"collapse":false,"editable":true,"height":"250px","panels":[{"aliasColors":{},"bars":false,"datasource":"Prometheus","description":null,"editable":true,"error":false,"fill":1,"grid":{"threshold1":null,"threshold1Color":"rgba(216, 200, 27, 0.27)","threshold2":null,"threshold2Color":"rgba(234, 112, 112, 0.22)"},"id":11,"isNew":true,"legend":{"alignAsTable":true,"avg":true,"current":true,"hideEmpty":false,"hideZero":false,"max":false,"min":false,"rightSide":true,"show":true,"sideWidth":"200px","sort":null,"sortDesc":false,"total":false,"values":true},"lines":true,"linewidth":2,"links":[],"minSpan":null,"nullPointMode":"connected","percentage":false,"pointradius":5,"points":false,"renderer":"flot","repeat":null,"seriesOverrides":[],"span":12,"stack":false,"steppedLine":false,"targets":[{"datasource":"","expr":"sum(rate(container_cpu_usage_seconds_total{image!=\"\",name=~\"^k8s_.*\",namespace=\"sock-shop\"}[1m])) by (pod)","format":"time_series","instant":false,"interval":"","intervalFactor":2,"legendFormat":"{{ pod_name }}","metric":"","refId":"A","step":10,"target":""}],"timeFrom":null,"timeShift":null,"title":"CPU Usage","tooltip":{"msResolution":true,"shared":true,"sort":0,"value_type":"cumulative"},"transparent":false,"type":"graph","xaxis":{"show":true},"yaxes":[{"decimals":null,"format":"none","label":"cores","logBase":1,"max":null,"min":null,"show":true},{"decimals":null,"format":"none","label":"cores","logBase":1,"max":null,"min":null,"show":true}]},{"aliasColors":{},"bars":false,"datasource":"Prometheus","description":null,"editable":true,"error":false,"fill":1,"grid":{"threshold1":null,"threshold1Color":"rgba(216, 200, 27, 0.27)","threshold2":null,"threshold2Color":"rgba(234, 112, 112, 0.22)"},"id":12,"isNew":true,"legend":{"alignAsTable":true,"avg":true,"current":true,"hideEmpty":false,"hideZero":false,"max":false,"min":false,"rightSide":true,"show":true,"sideWidth":"200px","sort":null,"sortDesc":false,"total":false,"values":true},"lines":true,"linewidth":2,"links":[],"minSpan":null,"nullPointMode":"connected","percentage":false,"pointradius":5,"points":false,"renderer":"flot","repeat":null,"seriesOverrides":[],"span":12,"stack":false,"steppedLine":false,"targets":[{"datasource":"","expr":"sum(container_memory_working_set_bytes{image!=\"\",name=~\"^k8s_.*\"}) by (pod_name)","format":"time_series","instant":false,"interval":"","intervalFactor":2,"legendFormat":"{{ pod_name }}","metric":"","refId":"A","step":10,"target":""}],"timeFrom":null,"timeShift":null,"title":"Memory Working Set","tooltip":{"msResolution":true,"shared":true,"sort":0,"value_type":"cumulative"},"transparent":false,"type":"graph","xaxis":{"show":true},"yaxes":[{"decimals":null,"format":"bytes","label":"used","logBase":1,"max":null,"min":null,"show":true},{"decimals":null,"format":"bytes","label":"used","logBase":1,"max":null,"min":null,"show":true}]},{"aliasColors":{},"bars":false,"datasource":"Prometheus","description":null,"editable":true,"error":false,"fill":1,"grid":{"threshold1":null,"threshold1Color":"rgba(216, 200, 27, 0.27)","threshold2":null,"threshold2Color":"rgba(234, 112, 112, 0.22)"},"id":13,"isNew":true,"legend":{"alignAsTable":true,"avg":true,"current":true,"hideEmpty":false,"hideZero":false,"max":false,"min":false,"rightSide":true,"show":true,"sideWidth":"200px","sort":null,"sortDesc":false,"total":false,"values":true},"lines":true,"linewidth":2,"links":[],"minSpan":null,"nullPointMode":"connected","percentage":false,"pointradius":5,"points":false,"renderer":"flot","repeat":null,"seriesOverrides":[],"span":12,"stack":false,"steppedLine":false,"targets":[{"datasource":"","expr":"sum(rate(container_network_receive_bytes_total{image!=\"\",name=~\"^k8s_.*\",}[1m])) by (pod_name)","format":"time_series","instant":false,"interval":"","intervalFactor":2,"legendFormat":"{{ pod_name }} < in","metric":"network","refId":"A","step":"2","target":""},{"datasource":"","expr":"- sum (rate (container_network_transmit_bytes_total{image!=\"\",name=~\"^k8s_.*\",}[1m])) by (pod_name)","format":"time_series","instant":false,"interval":"","intervalFactor":2,"legendFormat":"{{ pod_name }} > out","metric":"network","refId":"B","step":"2","target":""}],"timeFrom":null,"timeShift":null,"title":"Network","tooltip":{"msResolution":true,"shared":true,"sort":0,"value_type":"cumulative"},"transparent":false,"type":"graph","xaxis":{"show":true},"yaxes":[{"decimals":null,"format":"Bps","label":"transmit / receive","logBase":1,"max":null,"min":null,"show":true},{"decimals":null,"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":false}]},{"aliasColors":{},"bars":false,"datasource":"Prometheus","description":null,"editable":true,"error":false,"fill":1,"grid":{"threshold1":null,"threshold1Color":"rgba(216, 200, 27, 0.27)","threshold2":null,"threshold2Color":"rgba(234, 112, 112, 0.22)"},"id":14,"isNew":true,"legend":{"alignAsTable":true,"avg":true,"current":true,"hideEmpty":false,"hideZero":false,"max":false,"min":false,"rightSide":true,"show":true,"sideWidth":"200px","sort":null,"sortDesc":false,"total":false,"values":true},"lines":true,"linewidth":2,"links":[],"minSpan":null,"nullPointMode":"connected","percentage":false,"pointradius":5,"points":false,"renderer":"flot","repeat":null,"seriesOverrides":[],"span":12,"stack":false,"steppedLine":false,"targets":[{"datasource":"","expr":"sum(container_fs_usage_bytes{image!=\"\",name=~\"^k8s_.*\"}) by (pod_name)","format":"time_series","instant":false,"interval":"","intervalFactor":2,"legendFormat":"{{ pod_name }}","metric":"","refId":"A","step":10,"target":""}],"timeFrom":null,"timeShift":null,"title":"Filesystem","tooltip":{"msResolution":true,"shared":true,"sort":0,"value_type":"cumulative"},"transparent":false,"type":"graph","xaxis":{"show":true},"yaxes":[{"decimals":null,"format":"bytes","label":"used","logBase":1,"max":null,"min":null,"show":true},{"decimals":null,"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":false}]}],"repeat":null,"showTitle":true,"title":"each pod"}],"schemaVersion":12,"sharedCrosshair":false,"style":"dark","tags":[],"templating":{"list":[]},"time":{"from":"now-3h","to":"now"},"timepicker":{"refresh_intervals":["5s","10s","30s","1m","5m","15m","30m","1h","2h","1d"],"time_options":["5m","15m","1h","6h","12h","24h","2d","7d","30d"]},"timezone":"browser","title":"Kubernetes Pod Resources","uid":null,"version":0}
  sock-shop-resources-dashboard.json: |
    {"__inputs":[],"annotations":{"list":[]},"description":"","editable":true,"gnetId":null,"hideControls":false,"id":null,"links":[],"refresh":"5s","rows":[{"collapse":false,"editable":true,"height":"180px","panels":[{"cacheTimeout":null,"colorBackground":false,"colorValue":true,"colors":["rgba(50, 172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"datasource":"Prometheus","decimals":null,"description":null,"editable":true,"format":"percent","gauge":{"maxValue":100,"minValue":0,"show":true,"thresholdLabels":false,"thresholdMarkers":true},"height":null,"hideTimeOverride":false,"id":1,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"minSpan":null,"nullPointMode":"connected","nullText":null,"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[],"repeat":null,"span":6,"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"targets":[{"datasource":"","expr":"sum(container_memory_working_set_bytes{namespace=\"sock-shop\"}) / sum(machine_memory_bytes{}) * 100","format":"time_series","instant":false,"interval":"","intervalFactor":2,"legendFormat":"","metric":"","refId":"A","step":10,"target":""}],"thresholds":"65,90","timeFrom":null,"title":"Memory","transparent":false,"type":"singlestat","valueFontSize":"80%","valueMaps":[],"valueName":"current"},{"cacheTimeout":null,"colorBackground":false,"colorValue":true,"colors":["rgba(50, 172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"datasource":"Prometheus","decimals":2,"description":null,"editable":true,"format":"percent","gauge":{"maxValue":100,"minValue":0,"show":true,"thresholdLabels":false,"thresholdMarkers":true},"height":null,"hideTimeOverride":false,"id":2,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"minSpan":null,"nullPointMode":"connected","nullText":null,"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[],"repeat":null,"span":6,"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"targets":[{"datasource":"","expr":"sum(rate(container_cpu_usage_seconds_total{namespace=\"sock-shop\"}[1m])) / sum (machine_cpu_cores) * 100","format":"time_series","instant":false,"interval":"","intervalFactor":2,"legendFormat":"","metric":"","refId":"A","step":"10s","target":""}],"thresholds":"65,90","timeFrom":null,"title":"CPU Usage","transparent":false,"type":"singlestat","valueFontSize":"80%","valueMaps":[],"valueName":"current"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["rgba(50, 172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"datasource":"Prometheus","decimals":2,"description":null,"editable":true,"format":"bytes","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"height":"1px","hideTimeOverride":false,"id":3,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"minSpan":null,"nullPointMode":"connected","nullText":null,"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[],"repeat":null,"span":3,"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"targets":[{"datasource":"","expr":"sum(container_memory_working_set_bytes{namespace=\"sock-shop\"})","format":"time_series","instant":false,"interval":"","intervalFactor":2,"legendFormat":"","metric":"","refId":"A","step":10,"target":""}],"thresholds":"","timeFrom":null,"title":"Used","transparent":false,"type":"singlestat","valueFontSize":"50%","valueMaps":[],"valueName":"current"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["rgba(50, 172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"datasource":"Prometheus","decimals":2,"description":null,"editable":true,"format":"bytes","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"height":"1px","hideTimeOverride":false,"id":4,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"minSpan":null,"nullPointMode":"connected","nullText":null,"postfix":"","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[],"repeat":null,"span":3,"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"targets":[{"datasource":"","expr":"sum(machine_memory_bytes)","format":"time_series","instant":false,"interval":"","intervalFactor":2,"legendFormat":"","metric":"","refId":"A","step":10,"target":""}],"thresholds":"","timeFrom":null,"title":"Total","transparent":false,"type":"singlestat","valueFontSize":"50%","valueMaps":[],"valueName":"current"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["rgba(50, 172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"datasource":"Prometheus","decimals":2,"description":null,"editable":true,"format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"height":"1px","hideTimeOverride":false,"id":5,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"minSpan":null,"nullPointMode":"connected","nullText":null,"postfix":" cores","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[],"repeat":null,"span":3,"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"targets":[{"datasource":"","expr":"sum(rate(container_cpu_usage_seconds_total{namespace=\"sock-shop\"}[1m]))","format":"time_series","instant":false,"interval":"","intervalFactor":2,"legendFormat":"","metric":"","refId":"A","step":10,"target":""}],"thresholds":"","timeFrom":null,"title":"Used","transparent":false,"type":"singlestat","valueFontSize":"50%","valueMaps":[],"valueName":"current"},{"cacheTimeout":null,"colorBackground":false,"colorValue":false,"colors":["rgba(50, 172, 45, 0.97)","rgba(237, 129, 40, 0.89)","rgba(245, 54, 54, 0.9)"],"datasource":"Prometheus","decimals":2,"description":null,"editable":true,"format":"none","gauge":{"maxValue":100,"minValue":0,"show":false,"thresholdLabels":false,"thresholdMarkers":true},"height":"1px","hideTimeOverride":false,"id":6,"interval":null,"links":[],"mappingType":1,"mappingTypes":[{"name":"value to text","value":1},{"name":"range to text","value":2}],"maxDataPoints":100,"minSpan":null,"nullPointMode":"connected","nullText":null,"postfix":" cores","postfixFontSize":"50%","prefix":"","prefixFontSize":"50%","rangeMaps":[],"repeat":null,"span":3,"sparkline":{"fillColor":"rgba(31, 118, 189, 0.18)","full":false,"lineColor":"rgb(31, 120, 193)","show":false},"targets":[{"datasource":"","expr":"sum(machine_cpu_cores)","format":"time_series","instant":false,"interval":"","intervalFactor":2,"legendFormat":"","metric":"","refId":"A","step":10,"target":""}],"thresholds":"","timeFrom":null,"title":"Total","transparent":false,"type":"singlestat","valueFontSize":"50%","valueMaps":[],"valueName":"current"}],"repeat":null,"showTitle":true,"title":"summary"},{"collapse":false,"editable":true,"height":"250px","panels":[{"aliasColors":{},"bars":false,"datasource":"Prometheus","description":null,"editable":true,"error":false,"fill":1,"grid":{"threshold1":null,"threshold1Color":"rgba(216, 200, 27, 0.27)","threshold2":null,"threshold2Color":"rgba(234, 112, 112, 0.22)"},"id":7,"isNew":true,"legend":{"alignAsTable":true,"avg":true,"current":true,"hideEmpty":false,"hideZero":false,"max":false,"min":false,"rightSide":true,"show":true,"sideWidth":"200px","sort":null,"sortDesc":false,"total":false,"values":true},"lines":true,"linewidth":1,"links":[],"minSpan":null,"nullPointMode":"connected","percentage":false,"pointradius":5,"points":false,"renderer":"flot","repeat":null,"seriesOverrides":[],"span":12,"stack":false,"steppedLine":false,"targets":[{"datasource":"","expr":"sum(container_memory_working_set_bytes{namespace=\"sock-shop\"}) by (pod_name)","format":"time_series","instant":false,"interval":"","intervalFactor":2,"legendFormat":"{{ pod_name }}","metric":"","refId":"A","step":10,"target":""}],"timeFrom":null,"timeShift":null,"title":"Memory Working Set","tooltip":{"msResolution":true,"shared":true,"sort":0,"value_type":"cumulative"},"transparent":false,"type":"graph","xaxis":{"show":true},"yaxes":[{"decimals":null,"format":"bytes","label":"used","logBase":1,"max":null,"min":null,"show":true},{"decimals":null,"format":"bytes","label":"used","logBase":1,"max":null,"min":null,"show":true}]},{"aliasColors":{},"bars":false,"datasource":"Prometheus","description":null,"editable":true,"error":false,"fill":1,"grid":{"threshold1":null,"threshold1Color":"rgba(216, 200, 27, 0.27)","threshold2":null,"threshold2Color":"rgba(234, 112, 112, 0.22)"},"id":8,"isNew":true,"legend":{"alignAsTable":true,"avg":true,"current":true,"hideEmpty":false,"hideZero":false,"max":false,"min":false,"rightSide":true,"show":true,"sideWidth":"200px","sort":null,"sortDesc":false,"total":false,"values":true},"lines":true,"linewidth":1,"links":[],"minSpan":null,"nullPointMode":"connected","percentage":false,"pointradius":5,"points":false,"renderer":"flot","repeat":null,"seriesOverrides":[],"span":12,"stack":false,"steppedLine":false,"targets":[{"datasource":"","expr":"sum(rate(container_cpu_usage_seconds_total{namespace=\"sock-shop\"}[1m])) by (pod_name)","format":"time_series","instant":false,"interval":"","intervalFactor":2,"legendFormat":"{{ pod_name }}","metric":"","refId":"A","step":10,"target":""}],"timeFrom":null,"timeShift":null,"title":"CPU Usage","tooltip":{"msResolution":true,"shared":true,"sort":0,"value_type":"cumulative"},"transparent":false,"type":"graph","xaxis":{"show":true},"yaxes":[{"decimals":null,"format":"none","label":"cores","logBase":1,"max":null,"min":null,"show":true},{"decimals":null,"format":"none","label":"cores","logBase":1,"max":null,"min":null,"show":true}]}],"repeat":null,"showTitle":false,"title":"New row"}],"schemaVersion":12,"sharedCrosshair":false,"style":"dark","tags":[],"templating":{"list":[]},"time":{"from":"now-30m","to":"now"},"timepicker":{"refresh_intervals":["5s","10s","30s","1m","5m","15m","30m","1h","2h","1d"],"time_options":["5m","15m","1h","6h","12h","24h","2d","7d","30d"]},"timezone":"browser","title":"Socks Shop Resources","uid":null,"version":0}
  sock-shop-performance-dashboard.json: |
    {"__inputs":[],"annotations":{"list":[]},"description":"","editable":true,"gnetId":null,"hideControls":false,"id":null,"links":[],"refresh":"5s","rows":[{"collapse":false,"editable":true,"height":"250px","panels":[{"aliasColors":{},"bars":false,"datasource":"Prometheus","description":null,"editable":true,"error":false,"fill":1,"grid":{"threshold1":null,"threshold1Color":"rgba(216, 200, 27, 0.27)","threshold2":null,"threshold2Color":"rgba(234, 112, 112, 0.22)"},"id":1,"isNew":true,"legend":{"alignAsTable":true,"avg":false,"current":false,"hideEmpty":false,"hideZero":false,"max":false,"min":false,"rightSide":false,"show":true,"sideWidth":null,"sort":null,"sortDesc":false,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"minSpan":null,"nullPointMode":"connected","percentage":false,"pointradius":5,"points":false,"renderer":"flot","repeat":null,"seriesOverrides":[],"span":6,"stack":false,"steppedLine":false,"targets":[{"datasource":"","expr":"sum(rate(request_duration_seconds_count{name=\"catalogue\",status_code=~\"2..\",route!=\"metrics\"}[1m])) * 100","format":"time_series","instant":false,"interval":"","intervalFactor":2,"legendFormat":"2xx","metric":"","refId":"A","step":10,"target":""},{"datasource":"","expr":"sum(rate(request_duration_seconds_count{name=\"catalogue\",status_code=~\"4.+|5.+\"}[1m])) * 100","format":"time_series","instant":false,"interval":"","intervalFactor":2,"legendFormat":"4xx/5xx","metric":"","refId":"B","step":10,"target":""}],"timeFrom":null,"timeShift":null,"title":"Catalogue QPS","tooltip":{"msResolution":true,"shared":true,"sort":0,"value_type":"cumulative"},"transparent":false,"type":"graph","xaxis":{"show":true},"yaxes":[{"decimals":null,"format":"ops","label":"QPS (1 min)","logBase":1,"max":null,"min":0,"show":true},{"decimals":null,"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}]},{"aliasColors":{},"bars":false,"datasource":"Prometheus","description":null,"editable":true,"error":false,"fill":1,"grid":{"threshold1":null,"threshold1Color":"rgba(216, 200, 27, 0.27)","threshold2":null,"threshold2Color":"rgba(234, 112, 112, 0.22)"},"id":2,"isNew":true,"legend":{"alignAsTable":false,"avg":false,"current":false,"hideEmpty":false,"hideZero":false,"max":false,"min":false,"rightSide":false,"show":true,"sideWidth":null,"sort":null,"sortDesc":false,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"minSpan":null,"nullPointMode":"connected","percentage":false,"pointradius":5,"points":false,"renderer":"flot","repeat":null,"seriesOverrides":[],"span":6,"stack":false,"steppedLine":false,"targets":[{"datasource":"","expr":"histogram_quantile(0.99, sum(rate(request_duration_seconds_bucket{name=\"catalogue\"}[1m])) by (name, le))","format":"time_series","instant":false,"interval":"","intervalFactor":2,"legendFormat":"99th quantile","metric":"","refId":"A","step":10,"target":""},{"datasource":"","expr":"histogram_quantile(0.5, sum(rate(request_duration_seconds_bucket{name=\"catalogue\"}[1m])) by (name, le))","format":"time_series","instant":false,"interval":"","intervalFactor":2,"legendFormat":"50th quantile","metric":"","refId":"B","step":10,"target":""},{"datasource":"","expr":"sum(rate(request_duration_seconds_sum{name=\"catalogue\"}[1m])) / sum(rate(request_duration_seconds_count{name=\"catalogue\"}[1m]))","format":"time_series","instant":false,"interval":"","intervalFactor":2,"legendFormat":"mean","metric":"","refId":"C","step":10,"target":""}],"timeFrom":null,"timeShift":null,"title":"Catalogue Latency","tooltip":{"msResolution":true,"shared":true,"sort":0,"value_type":"cumulative"},"transparent":false,"type":"graph","xaxis":{"show":true},"yaxes":[{"decimals":null,"format":"s","label":null,"logBase":1,"max":null,"min":0,"show":true},{"decimals":null,"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}]}],"repeat":null,"showTitle":true,"title":"Catalogue"},{"collapse":false,"editable":true,"height":"250px","panels":[{"aliasColors":{},"bars":false,"datasource":"Prometheus","description":null,"editable":true,"error":false,"fill":1,"grid":{"threshold1":null,"threshold1Color":"rgba(216, 200, 27, 0.27)","threshold2":null,"threshold2Color":"rgba(234, 112, 112, 0.22)"},"id":3,"isNew":true,"legend":{"alignAsTable":true,"avg":false,"current":false,"hideEmpty":false,"hideZero":false,"max":false,"min":false,"rightSide":false,"show":true,"sideWidth":null,"sort":null,"sortDesc":false,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"minSpan":null,"nullPointMode":"connected","percentage":false,"pointradius":5,"points":false,"renderer":"flot","repeat":null,"seriesOverrides":[],"span":6,"stack":false,"steppedLine":false,"targets":[{"datasource":"","expr":"sum(rate(request_duration_seconds_count{name=\"carts\",status_code=~\"2..\",route!=\"metrics\"}[1m])) * 100","format":"time_series","instant":false,"interval":"","intervalFactor":2,"legendFormat":"2xx","metric":"","refId":"A","step":10,"target":""},{"datasource":"","expr":"sum(rate(request_duration_seconds_count{name=\"carts\",status_code=~\"4.+|5.+\"}[1m])) * 100","format":"time_series","instant":false,"interval":"","intervalFactor":2,"legendFormat":"4xx/5xx","metric":"","refId":"B","step":10,"target":""}],"timeFrom":null,"timeShift":null,"title":"Cart QPS","tooltip":{"msResolution":true,"shared":true,"sort":0,"value_type":"cumulative"},"transparent":false,"type":"graph","xaxis":{"show":true},"yaxes":[{"decimals":null,"format":"ops","label":"QPS (1 min)","logBase":1,"max":null,"min":0,"show":true},{"decimals":null,"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}]},{"aliasColors":{},"bars":false,"datasource":"Prometheus","description":null,"editable":true,"error":false,"fill":1,"grid":{"threshold1":null,"threshold1Color":"rgba(216, 200, 27, 0.27)","threshold2":null,"threshold2Color":"rgba(234, 112, 112, 0.22)"},"id":4,"isNew":true,"legend":{"alignAsTable":false,"avg":false,"current":false,"hideEmpty":false,"hideZero":false,"max":false,"min":false,"rightSide":false,"show":true,"sideWidth":null,"sort":null,"sortDesc":false,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"minSpan":null,"nullPointMode":"connected","percentage":false,"pointradius":5,"points":false,"renderer":"flot","repeat":null,"seriesOverrides":[],"span":6,"stack":false,"steppedLine":false,"targets":[{"datasource":"","expr":"histogram_quantile(0.99, sum(rate(request_duration_seconds_bucket{name=\"carts\"}[1m])) by (name, le))","format":"time_series","instant":false,"interval":"","intervalFactor":2,"legendFormat":"99th quantile","metric":"","refId":"A","step":10,"target":""},{"datasource":"","expr":"histogram_quantile(0.5, sum(rate(request_duration_seconds_bucket{name=\"carts\"}[1m])) by (name, le))","format":"time_series","instant":false,"interval":"","intervalFactor":2,"legendFormat":"50th quantile","metric":"","refId":"B","step":10,"target":""},{"datasource":"","expr":"sum(rate(request_duration_seconds_sum{name=\"carts\"}[1m])) / sum(rate(request_duration_seconds_count{name=\"carts\"}[1m]))","format":"time_series","instant":false,"interval":"","intervalFactor":2,"legendFormat":"mean","metric":"","refId":"C","step":10,"target":""}],"timeFrom":null,"timeShift":null,"title":"Cart Latency","tooltip":{"msResolution":true,"shared":true,"sort":0,"value_type":"cumulative"},"transparent":false,"type":"graph","xaxis":{"show":true},"yaxes":[{"decimals":null,"format":"s","label":null,"logBase":1,"max":null,"min":0,"show":true},{"decimals":null,"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}]}],"repeat":null,"showTitle":true,"title":"Cart"},{"collapse":false,"editable":true,"height":"250px","panels":[{"aliasColors":{},"bars":false,"datasource":"Prometheus","description":null,"editable":true,"error":false,"fill":1,"grid":{"threshold1":null,"threshold1Color":"rgba(216, 200, 27, 0.27)","threshold2":null,"threshold2Color":"rgba(234, 112, 112, 0.22)"},"id":5,"isNew":true,"legend":{"alignAsTable":true,"avg":false,"current":false,"hideEmpty":false,"hideZero":false,"max":false,"min":false,"rightSide":false,"show":true,"sideWidth":null,"sort":null,"sortDesc":false,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"minSpan":null,"nullPointMode":"connected","percentage":false,"pointradius":5,"points":false,"renderer":"flot","repeat":null,"seriesOverrides":[],"span":6,"stack":false,"steppedLine":false,"targets":[{"datasource":"","expr":"sum(rate(request_duration_seconds_count{name=\"orders\",status_code=~\"2..\",route!=\"metrics\"}[1m])) * 100","format":"time_series","instant":false,"interval":"","intervalFactor":2,"legendFormat":"2xx","metric":"","refId":"A","step":10,"target":""},{"datasource":"","expr":"sum(rate(request_duration_seconds_count{name=\"orders\",status_code=~\"4.+|5.+\"}[1m])) * 100","format":"time_series","instant":false,"interval":"","intervalFactor":2,"legendFormat":"4xx/5xx","metric":"","refId":"B","step":10,"target":""}],"timeFrom":null,"timeShift":null,"title":"Orders QPS","tooltip":{"msResolution":true,"shared":true,"sort":0,"value_type":"cumulative"},"transparent":false,"type":"graph","xaxis":{"show":true},"yaxes":[{"decimals":null,"format":"ops","label":"QPS (1 min)","logBase":1,"max":null,"min":0,"show":true},{"decimals":null,"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}]},{"aliasColors":{},"bars":false,"datasource":"Prometheus","description":null,"editable":true,"error":false,"fill":1,"grid":{"threshold1":null,"threshold1Color":"rgba(216, 200, 27, 0.27)","threshold2":null,"threshold2Color":"rgba(234, 112, 112, 0.22)"},"id":6,"isNew":true,"legend":{"alignAsTable":false,"avg":false,"current":false,"hideEmpty":false,"hideZero":false,"max":false,"min":false,"rightSide":false,"show":true,"sideWidth":null,"sort":null,"sortDesc":false,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"minSpan":null,"nullPointMode":"connected","percentage":false,"pointradius":5,"points":false,"renderer":"flot","repeat":null,"seriesOverrides":[],"span":6,"stack":false,"steppedLine":false,"targets":[{"datasource":"","expr":"histogram_quantile(0.99, sum(rate(request_duration_seconds_bucket{name=\"orders\"}[1m])) by (name, le))","format":"time_series","instant":false,"interval":"","intervalFactor":2,"legendFormat":"99th quantile","metric":"","refId":"A","step":10,"target":""},{"datasource":"","expr":"histogram_quantile(0.5, sum(rate(request_duration_seconds_bucket{name=\"orders\"}[1m])) by (name, le))","format":"time_series","instant":false,"interval":"","intervalFactor":2,"legendFormat":"50th quantile","metric":"","refId":"B","step":10,"target":""},{"datasource":"","expr":"sum(rate(request_duration_seconds_sum{name=\"orders\"}[1m])) / sum(rate(request_duration_seconds_count{name=\"orders\"}[1m]))","format":"time_series","instant":false,"interval":"","intervalFactor":2,"legendFormat":"mean","metric":"","refId":"C","step":10,"target":""}],"timeFrom":null,"timeShift":null,"title":"Orders Latency","tooltip":{"msResolution":true,"shared":true,"sort":0,"value_type":"cumulative"},"transparent":false,"type":"graph","xaxis":{"show":true},"yaxes":[{"decimals":null,"format":"s","label":null,"logBase":1,"max":null,"min":0,"show":true},{"decimals":null,"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}]}],"repeat":null,"showTitle":true,"title":"Orders"},{"collapse":false,"editable":true,"height":"250px","panels":[{"aliasColors":{},"bars":false,"datasource":"Prometheus","description":null,"editable":true,"error":false,"fill":1,"grid":{"threshold1":null,"threshold1Color":"rgba(216, 200, 27, 0.27)","threshold2":null,"threshold2Color":"rgba(234, 112, 112, 0.22)"},"id":7,"isNew":true,"legend":{"alignAsTable":true,"avg":false,"current":false,"hideEmpty":false,"hideZero":false,"max":false,"min":false,"rightSide":false,"show":true,"sideWidth":null,"sort":null,"sortDesc":false,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"minSpan":null,"nullPointMode":"connected","percentage":false,"pointradius":5,"points":false,"renderer":"flot","repeat":null,"seriesOverrides":[],"span":6,"stack":false,"steppedLine":false,"targets":[{"datasource":"","expr":"sum(rate(request_duration_seconds_count{name=\"payment\",status_code=~\"2..\",route!=\"metrics\"}[1m])) * 100","format":"time_series","instant":false,"interval":"","intervalFactor":2,"legendFormat":"2xx","metric":"","refId":"A","step":10,"target":""},{"datasource":"","expr":"sum(rate(request_duration_seconds_count{name=\"payment\",status_code=~\"4.+|5.+\"}[1m])) * 100","format":"time_series","instant":false,"interval":"","intervalFactor":2,"legendFormat":"4xx/5xx","metric":"","refId":"B","step":10,"target":""}],"timeFrom":null,"timeShift":null,"title":"Payment QPS","tooltip":{"msResolution":true,"shared":true,"sort":0,"value_type":"cumulative"},"transparent":false,"type":"graph","xaxis":{"show":true},"yaxes":[{"decimals":null,"format":"ops","label":"QPS (1 min)","logBase":1,"max":null,"min":0,"show":true},{"decimals":null,"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}]},{"aliasColors":{},"bars":false,"datasource":"Prometheus","description":null,"editable":true,"error":false,"fill":1,"grid":{"threshold1":null,"threshold1Color":"rgba(216, 200, 27, 0.27)","threshold2":null,"threshold2Color":"rgba(234, 112, 112, 0.22)"},"id":8,"isNew":true,"legend":{"alignAsTable":false,"avg":false,"current":false,"hideEmpty":false,"hideZero":false,"max":false,"min":false,"rightSide":false,"show":true,"sideWidth":null,"sort":null,"sortDesc":false,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"minSpan":null,"nullPointMode":"connected","percentage":false,"pointradius":5,"points":false,"renderer":"flot","repeat":null,"seriesOverrides":[],"span":6,"stack":false,"steppedLine":false,"targets":[{"datasource":"","expr":"histogram_quantile(0.99, sum(rate(request_duration_seconds_bucket{name=\"payment\"}[1m])) by (name, le))","format":"time_series","instant":false,"interval":"","intervalFactor":2,"legendFormat":"99th quantile","metric":"","refId":"A","step":10,"target":""},{"datasource":"","expr":"histogram_quantile(0.5, sum(rate(request_duration_seconds_bucket{name=\"payment\"}[1m])) by (name, le))","format":"time_series","instant":false,"interval":"","intervalFactor":2,"legendFormat":"50th quantile","metric":"","refId":"B","step":10,"target":""},{"datasource":"","expr":"sum(rate(request_duration_seconds_sum{name=\"payment\"}[1m])) / sum(rate(request_duration_seconds_count{name=\"payment\"}[1m]))","format":"time_series","instant":false,"interval":"","intervalFactor":2,"legendFormat":"mean","metric":"","refId":"C","step":10,"target":""}],"timeFrom":null,"timeShift":null,"title":"Payment Latency","tooltip":{"msResolution":true,"shared":true,"sort":0,"value_type":"cumulative"},"transparent":false,"type":"graph","xaxis":{"show":true},"yaxes":[{"decimals":null,"format":"s","label":null,"logBase":1,"max":null,"min":0,"show":true},{"decimals":null,"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}]}],"repeat":null,"showTitle":true,"title":"Payment"},{"collapse":false,"editable":true,"height":"250px","panels":[{"aliasColors":{},"bars":false,"datasource":"Prometheus","description":null,"editable":true,"error":false,"fill":1,"grid":{"threshold1":null,"threshold1Color":"rgba(216, 200, 27, 0.27)","threshold2":null,"threshold2Color":"rgba(234, 112, 112, 0.22)"},"id":9,"isNew":true,"legend":{"alignAsTable":true,"avg":false,"current":false,"hideEmpty":false,"hideZero":false,"max":false,"min":false,"rightSide":false,"show":true,"sideWidth":null,"sort":null,"sortDesc":false,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"minSpan":null,"nullPointMode":"connected","percentage":false,"pointradius":5,"points":false,"renderer":"flot","repeat":null,"seriesOverrides":[],"span":6,"stack":false,"steppedLine":false,"targets":[{"datasource":"","expr":"sum(rate(request_duration_seconds_count{name=\"shipping\",status_code=~\"2..\",route!=\"metrics\"}[1m])) * 100","format":"time_series","instant":false,"interval":"","intervalFactor":2,"legendFormat":"2xx","metric":"","refId":"A","step":10,"target":""},{"datasource":"","expr":"sum(rate(request_duration_seconds_count{name=\"shipping\",status_code=~\"4.+|5.+\"}[1m])) * 100","format":"time_series","instant":false,"interval":"","intervalFactor":2,"legendFormat":"4xx/5xx","metric":"","refId":"B","step":10,"target":""}],"timeFrom":null,"timeShift":null,"title":"Shipping QPS","tooltip":{"msResolution":true,"shared":true,"sort":0,"value_type":"cumulative"},"transparent":false,"type":"graph","xaxis":{"show":true},"yaxes":[{"decimals":null,"format":"ops","label":"QPS (1 min)","logBase":1,"max":null,"min":0,"show":true},{"decimals":null,"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}]},{"aliasColors":{},"bars":false,"datasource":"Prometheus","description":null,"editable":true,"error":false,"fill":1,"grid":{"threshold1":null,"threshold1Color":"rgba(216, 200, 27, 0.27)","threshold2":null,"threshold2Color":"rgba(234, 112, 112, 0.22)"},"id":10,"isNew":true,"legend":{"alignAsTable":false,"avg":false,"current":false,"hideEmpty":false,"hideZero":false,"max":false,"min":false,"rightSide":false,"show":true,"sideWidth":null,"sort":null,"sortDesc":false,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"minSpan":null,"nullPointMode":"connected","percentage":false,"pointradius":5,"points":false,"renderer":"flot","repeat":null,"seriesOverrides":[],"span":6,"stack":false,"steppedLine":false,"targets":[{"datasource":"","expr":"histogram_quantile(0.99, sum(rate(request_duration_seconds_bucket{name=\"shipping\"}[1m])) by (name, le))","format":"time_series","instant":false,"interval":"","intervalFactor":2,"legendFormat":"99th quantile","metric":"","refId":"A","step":10,"target":""},{"datasource":"","expr":"histogram_quantile(0.5, sum(rate(request_duration_seconds_bucket{name=\"shipping\"}[1m])) by (name, le))","format":"time_series","instant":false,"interval":"","intervalFactor":2,"legendFormat":"50th quantile","metric":"","refId":"B","step":10,"target":""},{"datasource":"","expr":"sum(rate(request_duration_seconds_sum{name=\"shipping\"}[1m])) / sum(rate(request_duration_seconds_count{name=\"shipping\"}[1m]))","format":"time_series","instant":false,"interval":"","intervalFactor":2,"legendFormat":"mean","metric":"","refId":"C","step":10,"target":""}],"timeFrom":null,"timeShift":null,"title":"Shipping Latency","tooltip":{"msResolution":true,"shared":true,"sort":0,"value_type":"cumulative"},"transparent":false,"type":"graph","xaxis":{"show":true},"yaxes":[{"decimals":null,"format":"s","label":null,"logBase":1,"max":null,"min":0,"show":true},{"decimals":null,"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}]}],"repeat":null,"showTitle":true,"title":"Shipping"},{"collapse":false,"editable":true,"height":"250px","panels":[{"aliasColors":{},"bars":false,"datasource":"Prometheus","description":null,"editable":true,"error":false,"fill":1,"grid":{"threshold1":null,"threshold1Color":"rgba(216, 200, 27, 0.27)","threshold2":null,"threshold2Color":"rgba(234, 112, 112, 0.22)"},"id":11,"isNew":true,"legend":{"alignAsTable":true,"avg":false,"current":false,"hideEmpty":false,"hideZero":false,"max":false,"min":false,"rightSide":false,"show":true,"sideWidth":null,"sort":null,"sortDesc":false,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"minSpan":null,"nullPointMode":"connected","percentage":false,"pointradius":5,"points":false,"renderer":"flot","repeat":null,"seriesOverrides":[],"span":6,"stack":false,"steppedLine":false,"targets":[{"datasource":"","expr":"sum(rate(request_duration_seconds_count{name=\"user\",status_code=~\"2..\",route!=\"metrics\"}[1m])) * 100","format":"time_series","instant":false,"interval":"","intervalFactor":2,"legendFormat":"2xx","metric":"","refId":"A","step":10,"target":""},{"datasource":"","expr":"sum(rate(request_duration_seconds_count{name=\"user\",status_code=~\"4.+|5.+\"}[1m])) * 100","format":"time_series","instant":false,"interval":"","intervalFactor":2,"legendFormat":"4xx/5xx","metric":"","refId":"B","step":10,"target":""}],"timeFrom":null,"timeShift":null,"title":"User QPS","tooltip":{"msResolution":true,"shared":true,"sort":0,"value_type":"cumulative"},"transparent":false,"type":"graph","xaxis":{"show":true},"yaxes":[{"decimals":null,"format":"ops","label":"QPS (1 min)","logBase":1,"max":null,"min":0,"show":true},{"decimals":null,"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}]},{"aliasColors":{},"bars":false,"datasource":"Prometheus","description":null,"editable":true,"error":false,"fill":1,"grid":{"threshold1":null,"threshold1Color":"rgba(216, 200, 27, 0.27)","threshold2":null,"threshold2Color":"rgba(234, 112, 112, 0.22)"},"id":12,"isNew":true,"legend":{"alignAsTable":false,"avg":false,"current":false,"hideEmpty":false,"hideZero":false,"max":false,"min":false,"rightSide":false,"show":true,"sideWidth":null,"sort":null,"sortDesc":false,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"minSpan":null,"nullPointMode":"connected","percentage":false,"pointradius":5,"points":false,"renderer":"flot","repeat":null,"seriesOverrides":[],"span":6,"stack":false,"steppedLine":false,"targets":[{"datasource":"","expr":"histogram_quantile(0.99, sum(rate(request_duration_seconds_bucket{name=\"user\"}[1m])) by (name, le))","format":"time_series","instant":false,"interval":"","intervalFactor":2,"legendFormat":"99th quantile","metric":"","refId":"A","step":10,"target":""},{"datasource":"","expr":"histogram_quantile(0.5, sum(rate(request_duration_seconds_bucket{name=\"user\"}[1m])) by (name, le))","format":"time_series","instant":false,"interval":"","intervalFactor":2,"legendFormat":"50th quantile","metric":"","refId":"B","step":10,"target":""},{"datasource":"","expr":"sum(rate(request_duration_seconds_sum{name=\"user\"}[1m])) / sum(rate(request_duration_seconds_count{name=\"user\"}[1m]))","format":"time_series","instant":false,"interval":"","intervalFactor":2,"legendFormat":"mean","metric":"","refId":"C","step":10,"target":""}],"timeFrom":null,"timeShift":null,"title":"User Latency","tooltip":{"msResolution":true,"shared":true,"sort":0,"value_type":"cumulative"},"transparent":false,"type":"graph","xaxis":{"show":true},"yaxes":[{"decimals":null,"format":"s","label":null,"logBase":1,"max":null,"min":0,"show":true},{"decimals":null,"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}]}],"repeat":null,"showTitle":true,"title":"User"},{"collapse":false,"editable":true,"height":"250px","panels":[{"aliasColors":{},"bars":false,"datasource":"Prometheus","description":null,"editable":true,"error":false,"fill":1,"grid":{"threshold1":null,"threshold1Color":"rgba(216, 200, 27, 0.27)","threshold2":null,"threshold2Color":"rgba(234, 112, 112, 0.22)"},"id":13,"isNew":true,"legend":{"alignAsTable":true,"avg":false,"current":false,"hideEmpty":false,"hideZero":false,"max":false,"min":false,"rightSide":false,"show":true,"sideWidth":null,"sort":null,"sortDesc":false,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"minSpan":null,"nullPointMode":"connected","percentage":false,"pointradius":5,"points":false,"renderer":"flot","repeat":null,"seriesOverrides":[],"span":6,"stack":false,"steppedLine":false,"targets":[{"datasource":"","expr":"sum(rate(request_duration_seconds_count{name=\"front-end\",status_code=~\"2..\",route!=\"metrics\"}[1m])) * 100","format":"time_series","instant":false,"interval":"","intervalFactor":2,"legendFormat":"2xx","metric":"","refId":"A","step":10,"target":""},{"datasource":"","expr":"sum(rate(request_duration_seconds_count{name=\"front-end\",status_code=~\"4.+|5.+\"}[1m])) * 100","format":"time_series","instant":false,"interval":"","intervalFactor":2,"legendFormat":"4xx/5xx","metric":"","refId":"B","step":10,"target":""}],"timeFrom":null,"timeShift":null,"title":"Front End QPS","tooltip":{"msResolution":true,"shared":true,"sort":0,"value_type":"cumulative"},"transparent":false,"type":"graph","xaxis":{"show":true},"yaxes":[{"decimals":null,"format":"ops","label":"QPS (1 min)","logBase":1,"max":null,"min":0,"show":true},{"decimals":null,"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}]},{"aliasColors":{},"bars":false,"datasource":"Prometheus","description":null,"editable":true,"error":false,"fill":1,"grid":{"threshold1":null,"threshold1Color":"rgba(216, 200, 27, 0.27)","threshold2":null,"threshold2Color":"rgba(234, 112, 112, 0.22)"},"id":14,"isNew":true,"legend":{"alignAsTable":false,"avg":false,"current":false,"hideEmpty":false,"hideZero":false,"max":false,"min":false,"rightSide":false,"show":true,"sideWidth":null,"sort":null,"sortDesc":false,"total":false,"values":false},"lines":true,"linewidth":1,"links":[],"minSpan":null,"nullPointMode":"connected","percentage":false,"pointradius":5,"points":false,"renderer":"flot","repeat":null,"seriesOverrides":[],"span":6,"stack":false,"steppedLine":false,"targets":[{"datasource":"","expr":"histogram_quantile(0.99, sum(rate(request_duration_seconds_bucket{name=\"front-end\"}[1m])) by (name, le))","format":"time_series","instant":false,"interval":"","intervalFactor":2,"legendFormat":"99th quantile","metric":"","refId":"A","step":10,"target":""},{"datasource":"","expr":"histogram_quantile(0.5, sum(rate(request_duration_seconds_bucket{name=\"front-end\"}[1m])) by (name, le))","format":"time_series","instant":false,"interval":"","intervalFactor":2,"legendFormat":"50th quantile","metric":"","refId":"B","step":10,"target":""},{"datasource":"","expr":"sum(rate(request_duration_seconds_sum{name=\"front-end\"}[1m])) / sum(rate(request_duration_seconds_count{name=\"front-end\"}[1m]))","format":"time_series","instant":false,"interval":"","intervalFactor":2,"legendFormat":"mean","metric":"","refId":"C","step":10,"target":""}],"timeFrom":null,"timeShift":null,"title":"Front End Latency","tooltip":{"msResolution":true,"shared":true,"sort":0,"value_type":"cumulative"},"transparent":false,"type":"graph","xaxis":{"show":true},"yaxes":[{"decimals":null,"format":"s","label":null,"logBase":1,"max":null,"min":0,"show":true},{"decimals":null,"format":"short","label":null,"logBase":1,"max":null,"min":null,"show":true}]}],"repeat":null,"showTitle":true,"title":"Front End"}],"schemaVersion":12,"sharedCrosshair":false,"style":"dark","tags":[],"templating":{"list":[]},"time":{"from":"now-30m","to":"now"},"timepicker":{"refresh_intervals":["5s","10s","30s","1m","5m","15m","30m","1h","2h","1d"],"time_options":["5m","15m","1h","6h","12h","24h","2d","7d","30d"]},"timezone":"browser","title":"Sock Shop Performance","uid":null,"version":0}
  sock-shop-analytics-dashboard.json: |
    {
      "overwrite": true,
      "inputs": [
        {
          "name": "DS_PROMETHEUS",
          "pluginId": "prometheus",
          "type": "datasource",
          "value": "prometheus"
        }
      ],
      "dashboard": {
        "__inputs": [
          {
            "name": "DS_PROMETHEUS",
            "label": "prometheus",
            "description": "",
            "type": "datasource",
            "pluginId": "prometheus",
            "pluginName": "Prometheus"
          }
        ],
        "__requires": [
          {
            "type": "grafana",
            "id": "grafana",
            "name": "Grafana",
            "version": "4.1.2"
          },
          {
            "type": "datasource",
            "id": "prometheus",
            "name": "Prometheus",
            "version": "1.0.0"
          },
          {
            "type": "panel",
            "id": "singlestat",
            "name": "Singlestat",
            "version": ""
          }
        ],
        "annotations": {
          "list": []
        },
        "editable": true,
        "gnetId": null,
        "graphTooltip": 0,
        "hideControls": false,
        "id": null,
        "links": [],
        "rows": [
          {
            "collapse": false,
            "height": 190,
            "panels": [
              {
                "cacheTimeout": null,
                "colorBackground": false,
                "colorValue": false,
                "colors": [
                  "rgba(245, 54, 54, 0.9)",
                  "rgba(237, 129, 40, 0.89)",
                  "rgba(50, 172, 45, 0.97)"
                ],
                "datasource": "${DS_PROMETHEUS}",
                "format": "none",
                "gauge": {
                  "maxValue": 100,
                  "minValue": 0,
                  "show": false,
                  "thresholdLabels": false,
                  "thresholdMarkers": true
                },
                "id": 1,
                "interval": null,
                "links": [],
                "mappingType": 1,
                "mappingTypes": [
                  {
                    "name": "value to text",
                    "value": 1
                  },
                  {
                    "name": "range to text",
                    "value": 2
                  }
                ],
                "maxDataPoints": 100,
                "nullPointMode": "connected",
                "nullText": null,
                "postfix": "",
                "postfixFontSize": "50%",
                "prefix": "",
                "prefixFontSize": "50%",
                "rangeMaps": [
                  {
                    "from": "null",
                    "text": "N/A",
                    "to": "null"
                  }
                ],
                "span": 2,
                "sparkline": {
                  "fillColor": "rgba(31, 118, 189, 0.18)",
                  "full": false,
                  "lineColor": "rgb(31, 120, 193)",
                  "show": false
                },
                "targets": [
                  {
                    "expr": "request_duration_seconds_count{name=\"orders\",method=\"POST\"}",
                    "intervalFactor": 1,
                    "refId": "A",
                    "step": 30
                  }
                ],
                "thresholds": "",
                "title": "# Orders",
                "type": "singlestat",
                "valueFontSize": "80%",
                "valueMaps": [
                  {
                    "op": "=",
                    "text": "N/A",
                    "value": "null"
                  }
                ],
                "valueName": "current"
              },
              {
                "cacheTimeout": null,
                "colorBackground": false,
                "colorValue": false,
                "colors": [
                  "rgba(245, 54, 54, 0.9)",
                  "rgba(237, 129, 40, 0.89)",
                  "rgba(50, 172, 45, 0.97)"
                ],
                "datasource": "${DS_PROMETHEUS}",
                "format": "none",
                "gauge": {
                  "maxValue": 100,
                  "minValue": 0,
                  "show": false,
                  "thresholdLabels": false,
                  "thresholdMarkers": true
                },
                "id": 2,
                "interval": null,
                "links": [],
                "mappingType": 1,
                "mappingTypes": [
                  {
                    "name": "value to text",
                    "value": 1
                  },
                  {
                    "name": "range to text",
                    "value": 2
                  }
                ],
                "maxDataPoints": 100,
                "nullPointMode": "connected",
                "nullText": null,
                "postfix": "",
                "postfixFontSize": "50%",
                "prefix": "",
                "prefixFontSize": "50%",
                "rangeMaps": [
                  {
                    "from": "null",
                    "text": "N/A",
                    "to": "null"
                  }
                ],
                "span": 5,
                "sparkline": {
                  "fillColor": "rgba(31, 118, 189, 0.18)",
                  "full": false,
                  "lineColor": "rgb(31, 120, 193)",
                  "show": false
                },
                "targets": [
                  {
                    "expr": "rate(request_duration_seconds_count{name=\"orders\",method=\"POST\"}[1h]) *24*60*60",
                    "intervalFactor": 1,
                    "refId": "A",
                    "step": 30
                  }
                ],
                "thresholds": "",
                "title": "Projected number of orders per day",
                "type": "singlestat",
                "valueFontSize": "80%",
                "valueMaps": [
                  {
                    "op": "=",
                    "text": "N/A",
                    "value": "null"
                  }
                ],
                "valueName": "current"
              },
              {
                "cacheTimeout": null,
                "colorBackground": false,
                "colorValue": false,
                "colors": [
                  "rgba(245, 54, 54, 0.9)",
                  "rgba(237, 129, 40, 0.89)",
                  "rgba(50, 172, 45, 0.97)"
                ],
                "datasource": "${DS_PROMETHEUS}",
                "format": "none",
                "gauge": {
                  "maxValue": 100,
                  "minValue": 0,
                  "show": false,
                  "thresholdLabels": false,
                  "thresholdMarkers": true
                },
                "id": 3,
                "interval": null,
                "links": [],
                "mappingType": 1,
                "mappingTypes": [
                  {
                    "name": "value to text",
                    "value": 1
                  },
                  {
                    "name": "range to text",
                    "value": 2
                  }
                ],
                "maxDataPoints": 100,
                "nullPointMode": "connected",
                "nullText": null,
                "postfix": "",
                "postfixFontSize": "50%",
                "prefix": "",
                "prefixFontSize": "50%",
                "rangeMaps": [
                  {
                    "from": "null",
                    "text": "N/A",
                    "to": "null"
                  }
                ],
                "span": 5,
                "sparkline": {
                  "fillColor": "rgba(31, 118, 189, 0.18)",
                  "full": false,
                  "lineColor": "rgb(31, 120, 193)",
                  "show": false
                },
                "targets": [
                  {
                    "expr": "request_duration_seconds_count{name=\"user\", route=\"login\",status_code=\"200\"}",
                    "intervalFactor": 1,
                    "refId": "A",
                    "step": 30
                  }
                ],
                "thresholds": "",
                "title": "# Logins",
                "type": "singlestat",
                "valueFontSize": "80%",
                "valueMaps": [
                  {
                    "op": "=",
                    "text": "N/A",
                    "value": "null"
                  }
                ],
                "valueName": "current"
              }
            ],
            "repeat": null,
            "repeatIteration": null,
            "repeatRowId": null,
            "showTitle": false,
            "title": "Dashboard Row",
            "titleSize": "h6"
          }
        ],
        "schemaVersion": 14,
        "style": "dark",
        "tags": [],
        "templating": {
          "list": []
        },
        "time": {
          "from": "now-1h",
          "to": "now"
        },
        "timepicker": {
          "refresh_intervals": [
            "5s",
            "10s",
            "30s",
            "1m",
            "5m",
            "15m",
            "30m",
            "1h",
            "2h",
            "1d"
          ],
          "time_options": [
            "5m",
            "15m",
            "1h",
            "6h",
            "12h",
            "24h",
            "2d",
            "7d",
            "30d"
          ]
        },
        "timezone": "browser",
        "title": "Sock-Shop Analytics",
        "version": 2
      }
    }
kind: ConfigMap
metadata:
  name: grafana-import-dashboards
  namespace: monitoring
  labels:
    grafana_dashboard: "1"
